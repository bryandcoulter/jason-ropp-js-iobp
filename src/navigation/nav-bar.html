<link rel="import" href="polymer.html">
<link rel="stylesheet" href="./styles.css">
<dom-module id="nav-bar">
  <template>
    <style>
      :host {
        display: block;
        padding: 10px;
      }

      nav {
        display: grid;
        grid-template-columns: 20fr 20fr 20fr 20fr 20fr;
        background-color: gainsboro;
        width: 100%;
        padding: 5px;
        box-shadow: 3px 3px 2px lightgrey;
      }

      .nav-link {
        text-align: center;
      }
      .nav-link:hover {
        font-weight: bold;
        color: red;
      }
    </style>
    <nav>
      <template is="dom-repeat" items="[[pages]]">
        <div class="nav-link" on-click="setRoute" value="[[item.name]]">[[item.name]]</div>
      </template>
    </nav>
  </template>
  <script>
    'use strict';
    class NavBar extends Polymer.Element {
      static get is() { return 'nav-bar'; }
      static get properties() {
        return {
          pages: {
            type: Array,
            value: [
              { name: 'Homepage', path: 'index.html' },
              { name: 'Create User', path: 'new-user.html' },
              { name: 'User Profile', path: 'user-profile.html' },
              { name: 'User List', path: 'users-list.html' },
              { name: 'Edit User', path: 'edit-user.html' }
            ]
          }
        };
      }
      setRoute(event) {
        let pageName = event.target.value;

        for (let page of this.pages) {
          if (pageName === page.name) {
            history.pushState({}, page.name, page.path);
            location.reload();
          }
        }

      }
    }

    window.customElements.define(NavBar.is, NavBar);
  </script>
</dom-module>
